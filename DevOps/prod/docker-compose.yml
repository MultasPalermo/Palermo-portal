version: "3.9"

services:
  # ğŸŒ Frontend alcaldiafetch - ProducciÃ³n
  alcaldiafetch-front-prod:
    container_name: ${CONTAINER_NAME}
    build:
      context: ../..               # raÃ­z del proyecto Angular
      dockerfile: Dockerfile
    image: ${IMAGE_NAME}:latest
    restart: always
    ports:
      - "4203:${PORT}"             # 4203 host â†’ 80 contenedor
    env_file:
      - .env
    networks:
      - alcaldiafetch_network           # ğŸ”— red compartida con backend
    labels:
      - com.alcaldiafetch.environment=prod

# ğŸ”— Red externa compartida con backend
networks:
  alcaldiafetch_network:
    external: true
